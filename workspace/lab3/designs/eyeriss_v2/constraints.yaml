architecture_constraints:
  targets:
    - name: PE_array
      constraints:
        - type: spatial
          attributes:
            factors: R=1 S=1
            permutation: MCRSNPQ
            
    - name: global_buffer
      constraints:
        - type: temporal
          attributes:
            permutation: CMRSNPQ
            max_factors: N=1

    - name: scratchpad
      constraints:
        - type: temporal
          attributes:
            max_factors: N=1

mapspace_constraints:
  targets:
    - target: PE_array
      type: dataflow
      keep: [weights::PE_array, inputs::PE_array]
      bypass: [outputs::PE_array]
      
    - target: global_buffer
      type: bypass
      keep: []
      bypass: [Weights, Inputs, Outputs] 